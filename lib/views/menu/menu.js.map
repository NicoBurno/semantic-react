{"version":3,"sources":["../../../src/components/views/menu/menu.jsx"],"names":[],"mappings":"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","file":"menu.js","sourcesContent":["import React from 'react';\r\nimport { Numbers, validateClassProps } from '../../utilities';\r\nimport classNames from 'classnames';\r\nimport DefaultProps from '../../defaultProps';\r\n\r\nlet validProps = {\r\n    attached: ['top', 'bottom'],\r\n    fitted: ['horizontally', 'vertically']\r\n};\r\n\r\n/**\r\n * Menu. Could be simple or controlled. Controlled menu will be activated by providing value property and will manage\r\n * current active item and fire onChange callback when value was changed\r\n */\r\nexport default class Menu extends React.Component {\r\n    static propTypes = {\r\n        ...DefaultProps.propTypes,\r\n        /**\r\n         * A menu may be attached to other content segments\r\n         */\r\n        attached: React.PropTypes.oneOf(['top', 'bottom']),\r\n        /**\r\n         * A menu item or menu can have no borders\r\n         */\r\n        borderless: React.PropTypes.bool,\r\n        /**\r\n         * Use equal width for menu items\r\n         */\r\n        even: React.PropTypes.bool,\r\n        /**\r\n         * A menu item or menu can remove element padding, vertically or horizontally\r\n         */\r\n        fitted: React.PropTypes.oneOfType([\r\n            React.PropTypes.bool,\r\n            React.PropTypes.oneOf(['horizontally', 'vertically'])\r\n        ]),\r\n        /**\r\n         * A menu can be fixed to a side of its context\r\n         */\r\n        fixed: React.PropTypes.bool,\r\n        /**\r\n         * A vertical menu may take the size of its container. (A horizontal menu does this by default) \r\n         */\r\n        fluid: React.PropTypes.bool,\r\n        /**\r\n         * A menu may have its colors inverted to show greater contrast\r\n         */\r\n        inverted: React.PropTypes.bool,\r\n        /**\r\n         * Menu active value\r\n         */\r\n        menuValue: React.PropTypes.any,\r\n        /**\r\n         * Callback for active item change. It will not fire if clicking at already active item\r\n         */\r\n        onMenuChange: React.PropTypes.func,\r\n        /**\r\n         * Callback for menu item click (regardless active or not active)\r\n         */\r\n        onMenuItemClick: React.PropTypes.func,\r\n        /**\r\n         * A pagination menu is specially formatted to present links to pages of content \r\n         */\r\n        pagination: React.PropTypes.bool,\r\n        /**\r\n         * A menu can point to show its relationship to nearby content\r\n         */\r\n        pointing: React.PropTypes.bool,\r\n        /**\r\n         * A menu can be formatted to float right\r\n         */\r\n        right: React.PropTypes.bool,\r\n        /**\r\n         * A menu can adjust its appearance to de-emphasize its contents\r\n         */\r\n        secondary: React.PropTypes.bool,\r\n        /**\r\n         * A menu can be formatted to show tabs of information\r\n         */\r\n        tabular: React.PropTypes.bool,\r\n        /**\r\n         * A menu can be formatted for text content\r\n         */\r\n        text: React.PropTypes.bool,\r\n        /**\r\n         * A vertical menu displays elements vertically..\r\n         */\r\n        vertical: React.PropTypes.bool\r\n    };\r\n\r\n    static contextTypes = {\r\n        isMenuChild: React.PropTypes.bool,\r\n        isDropdownChild: React.PropTypes.bool\r\n    };\r\n\r\n    static childContextTypes = {\r\n        isMenuChild: React.PropTypes.bool\r\n    };\r\n\r\n    static defaultProps = {\r\n        ...DefaultProps.defaultProps,\r\n        onMenuItemClick: () => {},\r\n        onMenuChange: () => {}\r\n    };\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeItem: props.menuValue\r\n        }\r\n    }\r\n    \r\n    getChildContext() {\r\n        return {\r\n            isMenuChild: true\r\n        };\r\n    }\r\n    \r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.menuValue) {\r\n            this.setState({\r\n                activeItem: nextProps.menuValue\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    onMenuItemClick(value, event) {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        \r\n        this.props.onMenuItemClick(value);\r\n        if (this.state.activeItem !== value) {\r\n            this.setState({\r\n                activeItem: value\r\n            });\r\n            this.props.onMenuChange(value);\r\n        }\r\n    }\r\n    \r\n    renderChildren() {\r\n        // If this is not controlled menu do not do anything with childs\r\n        if (typeof this.props.menuValue === 'undefined') {\r\n            return this.props.children;\r\n        }\r\n        \r\n        // should deep traverse?\r\n        let newChildren = React.Children.map(this.props.children, child => {\r\n            // Process if a child has menuValue property\r\n            if (typeof child.props.menuValue !== 'undefined') {\r\n                return React.cloneElement(child, {\r\n                    active: this.state.activeItem === child.props.menuValue,\r\n                    key: child.props.menuValue,\r\n                    onClick: this.onMenuItemClick.bind(this, child.props.menuValue)\r\n                });\r\n            } else {\r\n                // Menu could contain non items, for example divider, pass it untouched (only add key)\r\n                return React.cloneElement(child, {\r\n                    key: (typeof child.props.key !== 'undefined') ? child.props.key : child.props.children\r\n                });\r\n            }\r\n        });\r\n        \r\n        return newChildren;\r\n        \r\n    }\r\n\r\n    render() {\r\n        /* eslint-disable no-use-before-define */\r\n        let { attached, borderless, component, even, fitted, fixed, fluid, inverted, pagination,\r\n            pointing, right, secondary, tabular, text, menuValue, vertical, ...other } = this.props;\r\n        /* eslint-enable no-use-before-define */\r\n\r\n        other.className = classNames(this.props.className, this.getClasses());\r\n\r\n        if (this.props.component == Menu) {\r\n            component = 'div';\r\n        } else {\r\n            component = this.props.component;\r\n        }\r\n        \r\n        let children = this.renderChildren();\r\n\r\n        return React.createElement(\r\n            component,\r\n            other,\r\n            children\r\n        );\r\n    }\r\n    \r\n    getClasses() {\r\n        let childCount = React.Children.count(this.props.children);\r\n\r\n        let classes = {\r\n            // default\r\n            ui: this.props.defaultClasses && !this.context.isMenuChild && !this.context.isDropdownChild,\r\n\r\n            // numbers\r\n\r\n            // position\r\n            right: this.props.right,\r\n            top: false,\r\n            bottom: false,\r\n\r\n            // variations\r\n            item: this.props.even && childCount > 0,\r\n            borderless: this.props.borderless,\r\n            attached: this.props.attached,\r\n            inverted: this.props.inverted,\r\n            pagination: this.props.pagination,\r\n            pointing: this.props.pointing,\r\n            secondary: this.props.secondary,\r\n            tabular: this.props.tabular,\r\n            vertical: this.props.vertical,\r\n            fluid: this.props.fluid,\r\n            fixed: this.props.fixed,\r\n            fitted: this.props.fitted,\r\n            text: this.props.text,\r\n\r\n            // dropdown\r\n            visible: this.context.isDropdownChild,\r\n            transition: this.context.isDropdownChild,\r\n\r\n            // component\r\n            menu: this.props.defaultClasses\r\n        };\r\n\r\n        if (this.props.even && childCount > 0) {\r\n            if (childCount > 0  && childCount <= 12) {\r\n                classes[Numbers[childCount]] = true;\r\n            }\r\n        }\r\n\r\n        return validateClassProps(classes, this.props, validProps);\r\n    }\r\n}\r\n"]}