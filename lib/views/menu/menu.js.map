{"version":3,"sources":["../../../src/components/views/menu/menu.jsx"],"names":[],"mappings":"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","file":"menu.js","sourcesContent":["import React from 'react';\r\nimport { Numbers, validateClassProps } from '../../utilities';\r\nimport classNames from 'classnames';\r\nimport DefaultProps from '../../defaultProps';\r\n\r\nlet validProps = {\r\n    attached: ['top', 'bottom'],\r\n    fitted: ['horizontally', 'vertically'],\r\n    floated: ['right', 'left']\r\n};\r\n\r\n/**\r\n * Menu. Could be simple or controlled. Controlled menu will be activated by providing value property and will manage\r\n * current active item and fire onChange callback when value was changed\r\n */\r\nexport default class Menu extends React.Component {\r\n    static propTypes = {\r\n        ...DefaultProps.propTypes,\r\n        /**\r\n         * A menu may be attached to other content segments\r\n         */\r\n        attached: React.PropTypes.oneOf(['top', 'bottom']),\r\n        /**\r\n         * A menu item or menu can have no borders\r\n         */\r\n        borderless: React.PropTypes.bool,\r\n        /**\r\n         * Use equal width for menu items\r\n         */\r\n        even: React.PropTypes.bool,\r\n        /**\r\n         * A menu item or menu can remove element padding, vertically or horizontally\r\n         */\r\n        fitted: React.PropTypes.oneOfType([\r\n            React.PropTypes.bool,\r\n            React.PropTypes.oneOf(['horizontally', 'vertically'])\r\n        ]),\r\n        /**\r\n         * A menu can be fixed to a side of its context\r\n         */\r\n        fixed: React.PropTypes.bool,\r\n        /**\r\n         * Float left or right\r\n         */\r\n        floated: React.PropTypes.oneOf(['right', 'left']),\r\n        /**\r\n         * A vertical menu may take the size of its container. (A horizontal menu does this by default)\r\n         */\r\n        fluid: React.PropTypes.bool,\r\n        /**\r\n         * A menu may have its colors inverted to show greater contrast\r\n         */\r\n        inverted: React.PropTypes.bool,\r\n        /**\r\n         * Menu active value\r\n         */\r\n        menuValue: React.PropTypes.oneOfType([\r\n            React.PropTypes.number,\r\n            React.PropTypes.string,\r\n            React.PropTypes.arrayOf(React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.number]))\r\n        ]),\r\n        /**\r\n         * Callback for active item change. Will not be fired if menuValue was omitted\r\n         * Will pass new menuValue or array of new menuValue\r\n         * If all items were unselected would pass null if menuValue is single value or empty array if menuValue is array\r\n         */\r\n        onMenuChange: React.PropTypes.func,\r\n        /**\r\n         * Callback for menu item click \r\n         */\r\n        onMenuItemClick: React.PropTypes.func,\r\n        /**\r\n         * A pagination menu is specially formatted to present links to pages of content\r\n         */\r\n        pagination: React.PropTypes.bool,\r\n        /**\r\n         * A menu can point to show its relationship to nearby content\r\n         */\r\n        pointing: React.PropTypes.bool,\r\n        /**\r\n         * A menu can be formatted to float right\r\n         */\r\n        right: React.PropTypes.bool,\r\n        /**\r\n         * A menu can adjust its appearance to de-emphasize its contents\r\n         */\r\n        secondary: React.PropTypes.bool,\r\n        /**\r\n         * A menu can be formatted to show tabs of information\r\n         */\r\n        tabular: React.PropTypes.bool,\r\n        /**\r\n         * A menu can be formatted for text content\r\n         */\r\n        text: React.PropTypes.bool,\r\n        /**\r\n         * A vertical menu displays elements vertically..\r\n         */\r\n        vertical: React.PropTypes.bool\r\n    };\r\n\r\n    static contextTypes = {\r\n        isMenuChild: React.PropTypes.bool,\r\n        isDropdownChild: React.PropTypes.bool\r\n    };\r\n\r\n    static childContextTypes = {\r\n        isMenuChild: React.PropTypes.bool\r\n    };\r\n\r\n    static defaultProps = {\r\n        ...DefaultProps.defaultProps,\r\n        onMenuItemClick: () => {},\r\n        onMenuChange: () => {}\r\n    };\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    \r\n    getChildContext() {\r\n        return {\r\n            isMenuChild: true\r\n        };\r\n    }\r\n    \r\n\r\n    onMenuItemClick(value, event) {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        \r\n        this.props.onMenuItemClick(value);\r\n        // Call onMenuChange callback when needed\r\n        if (typeof this.props.menuValue !== 'undefined') {\r\n            // Multiple menu selection\r\n            if (Array.isArray(this.props.menuValue)) {\r\n                if (this.props.menuValue.indexOf(value) !== -1) {\r\n                    // Unselect menu item\r\n                    this.props.onMenuChange(this.props.menuValue.filter(val => val !== value));\r\n                } else {\r\n                    // select menu item\r\n                    this.props.onMenuChange([...this.props.menuValue, value]);\r\n                }\r\n                // Single menu selection \r\n            } else {\r\n                // calling with null if clicking on same item, because we might want to unselect menu item\r\n                this.props.onMenuChange(this.props.menuValue !== value ? value : null);\r\n            }\r\n        }\r\n    }\r\n    \r\n    renderChildren() {\r\n        // should deep traverse?\r\n        return React.Children.map(this.props.children, child => {\r\n            // Process if a child has menuValue property\r\n            if (typeof child.props.menuValue !== 'undefined') {\r\n                return React.cloneElement(child, {\r\n                    // If child has active property, then pass it\r\n                    active: (typeof child.props.active !== 'undefined') ? child.props.active : this.isActiveItem(child.props.menuValue),\r\n                    key: child.props.menuValue,\r\n                    onClick: this.onMenuItemClick.bind(this, child.props.menuValue)\r\n                });\r\n            } else {\r\n                // Menu could contain non items, for example divider, pass it untouched (only add key)\r\n                return React.cloneElement(child, {\r\n                    key: (typeof child.key !== 'undefined') ? child.key : child.props.children\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        /* eslint-disable no-use-before-define */\r\n        let { attached, borderless, component, even, fitted, fixed, fluid, inverted, pagination,\r\n            pointing, right, secondary, tabular, text, menuValue, vertical, ...other } = this.props;\r\n        /* eslint-enable no-use-before-define */\r\n\r\n        other.className = classNames(this.props.className, this.getClasses());\r\n\r\n        if (this.props.component == Menu) {\r\n            component = 'div';\r\n        } else {\r\n            component = this.props.component;\r\n        }\r\n        \r\n        let children = this.renderChildren();\r\n\r\n        return React.createElement(\r\n            component,\r\n            other,\r\n            children\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Returns true if it should be active item\r\n     * @param value\r\n     */\r\n    isActiveItem(value) {\r\n        if (typeof value === 'undefined') return false;\r\n        if (typeof this.props.menuValue === 'undefined') return false;\r\n        if (Array.isArray(this.props.menuValue) && this.props.menuValue.indexOf(value) !== -1) return true;\r\n        return !!(!Array.isArray(this.props.menuValue) && this.props.menuValue === value);\r\n    }\r\n    \r\n    getClasses() {\r\n        let childCount = React.Children.count(this.props.children);\r\n\r\n        let classes = {\r\n            // default\r\n            ui: this.props.defaultClasses && !this.context.isMenuChild && !this.context.isDropdownChild,\r\n\r\n            // numbers\r\n\r\n            // position\r\n            right: this.props.right,\r\n            top: false,\r\n            bottom: false,\r\n\r\n            // variations\r\n            item: this.props.even && childCount > 0,\r\n            borderless: this.props.borderless,\r\n            attached: this.props.attached,\r\n            floated: this.props.floated,\r\n            inverted: this.props.inverted,\r\n            pagination: this.props.pagination,\r\n            pointing: this.props.pointing,\r\n            secondary: this.props.secondary,\r\n            tabular: this.props.tabular,\r\n            vertical: this.props.vertical,\r\n            fluid: this.props.fluid,\r\n            fixed: this.props.fixed,\r\n            fitted: this.props.fitted,\r\n            text: this.props.text,\r\n\r\n            // dropdown\r\n            visible: this.context.isDropdownChild,\r\n            transition: this.context.isDropdownChild,\r\n\r\n            // component\r\n            menu: this.props.defaultClasses\r\n        };\r\n\r\n        if (this.props.even && childCount > 0) {\r\n            if (childCount > 0  && childCount <= 12) {\r\n                classes[Numbers[childCount]] = true;\r\n            }\r\n        }\r\n\r\n        return validateClassProps(classes, this.props, validProps);\r\n    }\r\n}\r\n"]}