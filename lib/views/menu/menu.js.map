{"version":3,"sources":["../../../src/components/views/menu/menu.jsx"],"names":[],"mappings":"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","file":"menu.js","sourcesContent":["import React from 'react';\r\nimport { Numbers, validateClassProps } from '../../utilities';\r\nimport classNames from 'classnames';\r\nimport Radium from 'radium';\r\nimport { defaultPropTypes, defaultPropValues } from '../../defaultProps';\r\n\r\nlet validProps = {\r\n    attached: ['top', 'bottom'],\r\n    fitted: ['horizontally', 'vertically']\r\n};\r\n\r\n/**\r\n * Menu. Could be simple or controlled. Controlled menu will be activated by providing value property and will manage\r\n * current active item and fire onChange callback when value was changed\r\n */\r\n@Radium\r\nexport class Menu extends React.Component {\r\n    static propTypes = {\r\n        ...defaultPropTypes,\r\n        /**\r\n         * A menu may be attached to other content segments\r\n         */\r\n        attached: React.PropTypes.oneOf(['top', 'bottom']),\r\n        /**\r\n         * A menu item or menu can have no borders\r\n         */\r\n        borderless: React.PropTypes.bool,\r\n        /**\r\n         * Use equal width for menu items\r\n         */\r\n        even: React.PropTypes.bool,\r\n        /**\r\n         * A menu item or menu can remove element padding, vertically or horizontally\r\n         */\r\n        fitted: React.PropTypes.oneOfType([\r\n            React.PropTypes.bool,\r\n            React.PropTypes.oneOf(['horizontally', 'vertically'])\r\n        ]),\r\n        /**\r\n         * A menu can be fixed to a side of its context\r\n         */\r\n        fixed: React.PropTypes.bool,\r\n        /**\r\n         * A vertical menu may take the size of its container. (A horizontal menu does this by default) \r\n         */\r\n        fluid: React.PropTypes.bool,\r\n        /**\r\n         * A menu may have its colors inverted to show greater contrast\r\n         */\r\n        inverted: React.PropTypes.bool,\r\n        /**\r\n         * Menu active value\r\n         */\r\n        menuValue: React.PropTypes.any,\r\n        /**\r\n         * Callback for active item change. It will not fire if clicking at already active item\r\n         */\r\n        onMenuChange: React.PropTypes.func,\r\n        /**\r\n         * Callback for menu item click (regardless active or not active)\r\n         */\r\n        onMenuItemClick: React.PropTypes.func,\r\n        /**\r\n         * A pagination menu is specially formatted to present links to pages of content \r\n         */\r\n        pagination: React.PropTypes.bool,\r\n        /**\r\n         * A menu can point to show its relationship to nearby content\r\n         */\r\n        pointing: React.PropTypes.bool,\r\n        /**\r\n         * A menu can be formatted to float right\r\n         */\r\n        right: React.PropTypes.bool,\r\n        /**\r\n         * A menu can adjust its appearance to de-emphasize its contents\r\n         */\r\n        secondary: React.PropTypes.bool,\r\n        /**\r\n         * A menu can be formatted to show tabs of information\r\n         */\r\n        tabular: React.PropTypes.bool,\r\n        /**\r\n         * A menu can be formatted for text content\r\n         */\r\n        text: React.PropTypes.bool,\r\n        /**\r\n         * A vertical menu displays elements vertically..\r\n         */\r\n        vertical: React.PropTypes.bool\r\n    };\r\n\r\n    static contextTypes = {\r\n        isMenuChild: React.PropTypes.bool,\r\n        isDropdownChild: React.PropTypes.bool\r\n    };\r\n\r\n    static childContextTypes = {\r\n        isMenuChild: React.PropTypes.bool\r\n    };\r\n\r\n    static defaultProps = {\r\n        ...defaultPropValues,\r\n        onMenuItemClick: () => {},\r\n        onMenuChange: () => {}\r\n    };\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeItem: props.menuValue\r\n        }\r\n    }\r\n    \r\n    getChildContext() {\r\n        return {\r\n            isMenuChild: true\r\n        };\r\n    }\r\n    \r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.menuValue) {\r\n            this.setState({\r\n                activeItem: nextProps.menuValue\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    onMenuItemClick(value, event) {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        \r\n        this.props.onMenuItemClick(value);\r\n        if (this.state.activeItem !== value) {\r\n            this.setState({\r\n                activeItem: value\r\n            });\r\n            this.props.onMenuChange(value);\r\n        }\r\n    }\r\n    \r\n    renderChildren() {\r\n        // If this is not controlled menu do not do anything with childs\r\n        if (typeof this.props.menuValue === 'undefined') {\r\n            return this.props.children;\r\n        }\r\n        \r\n        // should deep traverse?\r\n        let newChildren = React.Children.map(this.props.children, child => {\r\n            // Process if a child has menuValue property\r\n            if (typeof child.props.menuValue !== 'undefined') {\r\n                return React.cloneElement(child, {\r\n                    active: this.state.activeItem === child.props.menuValue,\r\n                    key: child.props.menuValue,\r\n                    onClick: this.onMenuItemClick.bind(this, child.props.menuValue)\r\n                });\r\n            } else {\r\n                // Menu could contain non items, for example divider, pass it untouched (only add key)\r\n                return React.cloneElement(child, {\r\n                    key: (typeof child.props.key !== 'undefined') ? child.props.key : child.props.children\r\n                });\r\n            }\r\n        });\r\n        \r\n        return newChildren;\r\n        \r\n    }\r\n\r\n    render() {\r\n        /* eslint-disable no-use-before-define */\r\n        let { attached, borderless, component, even, fitted, fixed, fluid, inverted, pagination,\r\n            pointing, right, secondary, tabular, text, menuValue, vertical, ...other } = this.props;\r\n        /* eslint-enable no-use-before-define */\r\n\r\n        other.className = classNames(this.props.className, this.getClasses());\r\n\r\n        if (this.props.component == Menu) {\r\n            component = 'div';\r\n        } else {\r\n            component = this.props.component;\r\n        }\r\n        \r\n        let children = this.renderChildren();\r\n\r\n        return React.createElement(\r\n            component,\r\n            other,\r\n            children\r\n        );\r\n    }\r\n    \r\n    getClasses() {\r\n        let childCount = React.Children.count(this.props.children);\r\n\r\n        let classes = {\r\n            // default\r\n            ui: this.props.defaultClasses && !this.context.isMenuChild && !this.context.isDropdownChild,\r\n\r\n            // numbers\r\n\r\n            // position\r\n            right: this.props.right,\r\n            top: false,\r\n            bottom: false,\r\n\r\n            // variations\r\n            item: this.props.even && childCount > 0,\r\n            borderless: this.props.borderless,\r\n            attached: this.props.attached,\r\n            inverted: this.props.inverted,\r\n            pagination: this.props.pagination,\r\n            pointing: this.props.pointing,\r\n            secondary: this.props.secondary,\r\n            tabular: this.props.tabular,\r\n            vertical: this.props.vertical,\r\n            fluid: this.props.fluid,\r\n            fixed: this.props.fixed,\r\n            fitted: this.props.fitted,\r\n            text: this.props.text,\r\n\r\n            // dropdown\r\n            visible: this.context.isDropdownChild,\r\n            transition: this.context.isDropdownChild,\r\n\r\n            // component\r\n            menu: this.props.defaultClasses\r\n        };\r\n\r\n        if (this.props.even && childCount > 0) {\r\n            if (childCount > 0  && childCount <= 12) {\r\n                classes[Numbers[childCount]] = true;\r\n            }\r\n        }\r\n\r\n        return validateClassProps(classes, this.props, validProps);\r\n    }\r\n}\r\n"]}