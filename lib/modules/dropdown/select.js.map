{"version":3,"sources":["../../../src/components/modules/dropdown/select.jsx"],"names":[],"mappings":"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","file":"select.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport classNames from 'classnames';\r\nimport shallowCompare from 'react-addons-shallow-compare';\r\nimport EventListener from 'react-event-listener';\r\nimport Transition from 'react-motion-ui-pack';\r\nimport DropdownElement from './dropdownelement';\r\nimport { Label, Icon, Header } from '../../elements';\r\nimport { Menu } from '../../views';\r\nimport { isNodeInRoot } from '../../utilities';\r\n\r\n/**\r\n * Select is the dropdown where options could be selected, either single or multiple.\r\n * Also supports search\r\n */\r\nexport default class Select extends React.Component {\r\n    static propTypes = {\r\n        ...DropdownElement.propTypes,\r\n        /**\r\n         * Should be dropdown opened\r\n         */\r\n        active: React.PropTypes.bool,\r\n        /**\r\n         * Enter animation\r\n         */\r\n        enterAnimation: React.PropTypes.object,\r\n        /**\r\n         * Leave animation\r\n         */\r\n        leaveAnimation: React.PropTypes.object,\r\n        /**\r\n         * Name for dropdown input\r\n         */\r\n        name: React.PropTypes.string,\r\n        /**\r\n         * Icon name for dropdown\r\n         */\r\n        icon: React.PropTypes.string,\r\n        /**\r\n         * String used as placeholder if dropdown has no selected value\r\n         * Will be grayed (<div class=\"default text\">) if dropdown is selection \r\n         * or normally displayed (<div class=\"text\">) otherwise\r\n         */\r\n        placeholder: React.PropTypes.string,\r\n        /**\r\n         * Searchable dropdown\r\n         */\r\n        search: React.PropTypes.bool,\r\n        /**\r\n         * Search glyph width\r\n         */\r\n        searchGlyphWidth: React.PropTypes.number,\r\n        /**\r\n         * Ignore case when performing search\r\n         */\r\n        searchIgnoreCase: React.PropTypes.bool,\r\n        /**\r\n         * Search box position\r\n         */\r\n        searchPosition: React.PropTypes.oneOf([\r\n            'dropdown', 'menu'\r\n        ]),\r\n        /**\r\n         * Search header, valid only for searchPosition=\"menu\"\r\n         */\r\n        searchHeader: React.PropTypes.string,\r\n        /**\r\n         * Specify message which will be displayed when search has no results\r\n         */\r\n        searchNoResultsMessage: React.PropTypes.string,\r\n        /**\r\n         * Search string\r\n         */\r\n        searchString: React.PropTypes.string,\r\n        /**\r\n         * Selected value\r\n         */\r\n        selected: React.PropTypes.arrayOf(React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.number])),\r\n        /**\r\n         * Behave dropdown as HTML select\r\n         */\r\n        selection: React.PropTypes.bool,\r\n        /**\r\n         * Allow multiple selection\r\n         */\r\n        multiple: React.PropTypes.bool,\r\n        /**\r\n         * Callback will be called when current selected value was changed. \r\n         * Will pass array of new selected values as first param and total options count as second\r\n         */\r\n        onSelectChange: React.PropTypes.func,\r\n        /**\r\n         * Callback will be called when selection dropdown wants to be closed. For now only for outside of dropdown clicks\r\n         */\r\n        onRequestClose: React.PropTypes.func,\r\n        /**\r\n         * Callback will be called when search string is being changed. You probably just need to pass it back to component\r\n         */\r\n        onSearchStringChange: React.PropTypes.func\r\n        \r\n    };\r\n    \r\n    static defaultProps = {\r\n        ...DropdownElement.defaultProps,\r\n        active: false,\r\n        icon: 'dropdown',\r\n        search: false,\r\n        searchGlyphWidth: 1.0714,\r\n        searchPosition: 'dropdown',\r\n        searchIgnoreCase: true,\r\n        searchNoResultsMessage: 'No Results found.',\r\n        searchString: '',\r\n        selection: true,\r\n        selected: [],\r\n        multiple: false,\r\n        enterAnimation: {\r\n            height: 'auto'\r\n        },\r\n        leaveAnimation: {\r\n            height: 0\r\n        },\r\n        onSelectChange: () => {},\r\n        onRequestClose: () => {},\r\n        onSearchStringChange: () => {}\r\n    };\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        /**\r\n         * Menu reference\r\n         */\r\n        this.menuRef = null;\r\n        this.searchRef = null;\r\n        this.noResultsMessageRef = null;\r\n    }\r\n    \r\n    componentDidMount() {\r\n        const { active, search } = this.props;\r\n        if (search && this.searchRef && active) {\r\n            this.searchRef.focus();\r\n        }\r\n    }\r\n    \r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        return shallowCompare(this, nextProps, nextState);\r\n    }\r\n    \r\n    componentDidUpdate() {\r\n        const { active, search } = this.props;\r\n        if (search && this.searchRef && active) {\r\n            this.searchRef.focus();\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Handler for outside click\r\n     */\r\n    onOutsideDropdownClick = (event) => {\r\n        const { active, onRequestClose } = this.props;\r\n        if (!active) {\r\n            return;\r\n        }\r\n        const element = ReactDOM.findDOMNode(this);\r\n        if (element) {\r\n            if (!isNodeInRoot(event.target, element)) {\r\n                onRequestClose();\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Handler for menu item click\r\n     * @param value\r\n     */\r\n    onMenuItemClick = (value) => {\r\n        let { search, selected, multiple, onSelectChange, onSearchStringChange } = this.props;\r\n        const optionsCount = (this.menuRef) ? React.Children.count(this.menuRef.props.children) : 0;\r\n        if (selected.indexOf(value) === -1) {\r\n            if (multiple) {\r\n                // Append value for multiple\r\n                onSelectChange([...selected, value], optionsCount);\r\n            } else {\r\n                // replace for single\r\n                onSelectChange([value], optionsCount);\r\n            }\r\n            \r\n            // Intelligently handle multiple select here:\r\n            // Do not request close if selecting and there are more than 1 element left in menu\r\n            // Set focus to search box if searchable\r\n            // Close if menu has only 1 element\r\n            if (multiple && this.menuRef) {\r\n                if (optionsCount <= 1) {\r\n                    // Clean search string\r\n                    onSearchStringChange('');\r\n                } else {\r\n                    // we have few more elements here, put focus if searchable\r\n                    /* eslint-disable no-lonely-if */\r\n                    if (search && this.searchRef) {\r\n                        this.searchRef.focus();\r\n                    }\r\n                    /* eslint-enable no-lonely-if */\r\n                }\r\n            } else {\r\n                // always clean search string for single selection dropdowns\r\n                if (this.searchRef) {\r\n                    onSearchStringChange('');\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Handler for close label click\r\n     * @param value\r\n     */\r\n    onLabelCloseIconClick(value) {\r\n        const { selected, onSelectChange } = this.props;\r\n        const optionsCount = (this.menuRef) ? React.Children.count(this.menuRef.props.children) : 0;\r\n        const index = selected.indexOf(value);\r\n        if (index !== -1) {\r\n            onSelectChange([...selected.filter(val => val !== value)], optionsCount);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handler for search input change\r\n     * @param {React.KeyboardEvent} event\r\n     */\r\n    onSearchInputChange = (event) => {\r\n        const { onSearchStringChange } = this.props;\r\n        \r\n        onSearchStringChange(event.target.value);\r\n    };\r\n    \r\n    /**\r\n     * Handler for search input key events\r\n     * @param {React.KeyboardEvent} event\r\n     */\r\n    onSearchInputKeyDown = (event) => {\r\n        switch (event.which) {\r\n            // Enter\r\n            case 13:\r\n                // only do something if we have search results available and not displaying not results message\r\n                if (this.menuRef && !this.noResultsMessageRef && React.Children.count(this.menuRef.props.children) > 0) {\r\n                    // get the first children\r\n                    let child = React.Children.toArray(this.menuRef.props.children)[0];\r\n                    if (child && child.props.value) {\r\n                        // enter should do the same as menu item click\r\n                        this.onMenuItemClick(child.props.value);\r\n                    }\r\n                }\r\n                break;\r\n            // Backspace\r\n            case 8:\r\n                const { multiple, searchString, selected, onSelectChange } = this.props;\r\n                if (searchString === '') {\r\n                    if (multiple && selected.length > 0) {\r\n                        onSelectChange([...selected.slice(0, -1)])\r\n                    }\r\n                } \r\n                break;\r\n        }\r\n    };\r\n    \r\n\r\n    /**\r\n     * Renders dropdown hidden input \r\n     */\r\n    renderDropdownInput() {\r\n        const { name, selected } = this.props;\r\n        const value = selected.join(',');\r\n        \r\n        return (\r\n            <input name={name} \r\n                   type=\"hidden\" \r\n                   value={value} />\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Renders dropdown labels for multiple type dropdowns\r\n     */\r\n    renderDropdownLabels() {\r\n        const { multiple, selected } = this.props;\r\n        // Selection labels should appear only for multiple dropdowns\r\n        if (!multiple) {\r\n            return null;\r\n        }\r\n        \r\n        \r\n        return React.Children.map(this.props.children, child => {\r\n            // Process only option or option like childs and if it's selected\r\n            if (child.props.value && selected.indexOf(child.props.value) !== -1) {\r\n                return (\r\n                    <Transition component={false}\r\n                                enter={{ scale: 1 }}\r\n                                leave={{ scale: 0 }}\r\n                    >\r\n                        <Label component=\"a\"\r\n                               key={`label-${child.props.value}`}\r\n                               style={{ display: 'inline-block' }}\r\n                        >\r\n                            {child.props.children}\r\n                            <Icon name=\"close\"\r\n                                  onClick={this.onLabelCloseIconClick.bind(this, child.props.value)}/>\r\n                        </Label>\r\n                    </Transition>\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Render dropdown placeholder text\r\n     */\r\n    renderDropdownText() {\r\n        const { multiple, placeholder, search, selected, searchString, searchPosition, selection } = this.props;\r\n        // Render placeholder if not selected anything or multiple\r\n        if (selected.length === 0 || multiple) {\r\n            if (typeof placeholder !== 'undefined') {\r\n                // Selection type should use default text, non selection text\r\n                return (\r\n                    <div className={selection ? 'default text' : 'text'}>{placeholder}</div>\r\n                )\r\n            } else {\r\n                return null;\r\n            }\r\n        } else {\r\n            // Single selection here\r\n            // Render selected children in text div here if selected anything\r\n            let content = <div className=\"text filtered\"></div>;\r\n            // Do not render when performing search\r\n            if (!search || !searchString) {\r\n                // traverse in childs, find necessary node\r\n                React.Children.forEach(this.props.children, child => {\r\n                    if (child.props.value && selected.indexOf(child.props.value) !== -1) {\r\n                        content = <div className=\"text\">{child.props.children}</div>\r\n                    }\r\n                });\r\n            }\r\n            return content;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Renders dropdown icon\r\n     */\r\n    renderDropdownIcon() {\r\n        const { icon } = this.props;\r\n        return (\r\n            <Icon name={icon}/>\r\n        )\r\n    }\r\n\r\n    /**\r\n     * Renders search input\r\n     */\r\n    renderSearchInput() {\r\n        const { search, searchGlyphWidth, searchString, searchPosition, multiple } = this.props;\r\n        \r\n        // Do not render if not searchable\r\n        if (!search) {\r\n            return null;\r\n        }\r\n        \r\n        const searchWidth = searchGlyphWidth * searchString.length;\r\n        // single selection dropdown shouldn't apply width style\r\n        const style = searchWidth && searchPosition === 'dropdown' && multiple ? { width: `${searchWidth}em` } : {};\r\n        if (searchPosition === 'dropdown') {\r\n            return (\r\n                <input autoComplete=\"off\"\r\n                       className=\"search\"\r\n                       key=\"searchInput\"\r\n                       onKeyDown={this.onSearchInputKeyDown}\r\n                       onChange={this.onSearchInputChange}\r\n                       ref={ref => this.searchRef = ref}\r\n                       style={style}\r\n                       tabIndex={0}\r\n                       value={searchString}/>\r\n            )\r\n        } else {\r\n            // Search in menu has slightly different layout\r\n            return (\r\n                <div className=\"ui icon search input\">\r\n                    <Icon name=\"search\"/>\r\n                    <input placeholder=\"Search...\"\r\n                           key=\"searchInput\"\r\n                           onKeyDown={this.onSearchInputKeyDown}\r\n                           onChange={this.onSearchInputChange}\r\n                           ref={ref => this.searchRef = ref}\r\n                           tabIndex={0}\r\n                           type=\"text\"\r\n                           value={searchString}/>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Renders search header if specified\r\n     */\r\n    renderSearchHeader() {\r\n        const { search, searchHeader } = this.props;\r\n        if (search && searchHeader) {\r\n            return (<Header key=\"searchHeader\">{searchHeader}</Header>);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Filters children options to exclude selected elements or elements which doesn't match to search\r\n     */\r\n    renderFilteredChildren() {\r\n        const { search, searchIgnoreCase, selected, searchString, multiple } = this.props;\r\n        const searchRegex  = new RegExp(searchString, searchIgnoreCase ? 'gi' : 'g');\r\n        \r\n        let newChildren = [];\r\n        React.Children.forEach(this.props.children, child => {\r\n            // only process option like childs\r\n            if (child.props.value) {\r\n                let match = true;\r\n                if (search && searchString !== '') {\r\n                    // value could be int or string. In case of int convert it to string\r\n                    const value = (typeof child.props.value === 'number') ? Number.parseInt(child.props.value) : child.props.value;\r\n                    match = (searchRegex.test(value) || searchRegex.test(child.props.children));\r\n                }\r\n                \r\n                // Match for non search selection will be always true\r\n                if (match) {\r\n                    // For multiple type render only non selected options\r\n                    if (multiple && selected.indexOf(child.props.value) === -1) {\r\n                        newChildren.push(React.cloneElement(\r\n                            child,\r\n                            {\r\n                                key: child.key ? child.key : child.props.value,\r\n                                // need to pass menu value, otherwise menu will not bind handler\r\n                                menuValue: child.props.value\r\n                            }\r\n                        ));\r\n                    } else if (!multiple) {\r\n                        // for single selection render all options but add selected value\r\n                        newChildren.push(React.cloneElement(\r\n                            child,\r\n                            {\r\n                                active: (selected.indexOf(child.props.value) !== -1),\r\n                                key: child.key ? child.key : child.props.value,\r\n                                // need to pass menu value, otherwise menu will not bind handler\r\n                                menuValue: child.props.value\r\n                            }\r\n                        ));\r\n                    }\r\n                }\r\n            } else if (searchString === '') {\r\n                // need to pass non option like childs, but only if search string is empty\r\n                newChildren.push(React.cloneElement(\r\n                    child,\r\n                    {\r\n                        key: child.key ? child.key : child.props.value\r\n                    }\r\n                ));\r\n            }\r\n        });\r\n        return newChildren;\r\n    }\r\n    \r\n    render() {\r\n        /* eslint-disable no-use-before-define */\r\n        const {\r\n            active, children, enterAnimation, leaveAnimation, icon, name, search, searchPosition, searchHeader, \r\n            searchString, searchGlyphWidth, searchIgnoreCase, searchNoResultsMessage, placeholder, selected, selection,\r\n            multiple, onSelectChange, onRequestClose, onSearchStringChange, ...other\r\n        } = this.props;\r\n        /* eslint-enable no-use-before-define */\r\n        \r\n        // make new array for menu childrens\r\n        let menuChildrens = [];\r\n        // render search and header in menu\r\n        if (search && searchPosition === 'menu') {\r\n            if (searchHeader) {\r\n                menuChildrens.push(this.renderSearchHeader());\r\n            }\r\n            menuChildrens.push(this.renderSearchInput());\r\n        }\r\n        \r\n        let filteredChilds = this.renderFilteredChildren();\r\n        // Display no results message instead of children if needed\r\n        if ((!filteredChilds || filteredChilds.length === 0) && (search && searchString != '')) {\r\n            filteredChilds = [\r\n                <div className=\"message\" \r\n                     key=\"noResultsMessage\" \r\n                     ref={ref => this.noResultsMessageRef = ref}\r\n                >\r\n                    {searchNoResultsMessage}\r\n                </div>\r\n            ]; // eslint-disable-line\r\n        }\r\n        \r\n        menuChildrens = menuChildrens.concat(filteredChilds);\r\n        \r\n        other.className = classNames(other.className, this.getClasses());\r\n        \r\n        return (\r\n            <DropdownElement\r\n                {...other}\r\n                active={active}\r\n            >\r\n                {/* This will embed <noscript></noscript> inside dropdown div. Shouldn't cause any problems */}\r\n                <EventListener elementName=\"document\"\r\n                               onMouseDown={this.onOutsideDropdownClick}\r\n                               onTouchStart={this.onOutsideDropdownClick}/>\r\n                {this.renderDropdownInput()}\r\n                {this.renderDropdownLabels()}\r\n                {this.renderDropdownText()}\r\n                {this.renderDropdownIcon()}\r\n                {search && searchPosition === 'dropdown' && \r\n                this.renderSearchInput()\r\n                }\r\n                <Transition\r\n                    component={false}\r\n                    enter={enterAnimation}\r\n                    leave={leaveAnimation}\r\n                >\r\n                    {active &&\r\n                    <Menu key=\"menu\"\r\n                          onMenuItemClick={this.onMenuItemClick}\r\n                          ref={ref => this.menuRef = ref}\r\n                          style={{ overflow: 'hidden' }}\r\n                    >\r\n                        {menuChildrens}\r\n                    </Menu>\r\n                    }\r\n                </Transition>\r\n            </DropdownElement>\r\n        );\r\n    }\r\n    \r\n    getClasses() {\r\n        return {\r\n            search: this.props.search,\r\n            selection: this.props.selection,\r\n            multiple: this.props.multiple\r\n        }\r\n    }\r\n}"]}