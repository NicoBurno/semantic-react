{"version":3,"sources":["../../../src/components/modules/modal/modal.jsx"],"names":[],"mappings":"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","file":"modal.js","sourcesContent":["import React from 'react';\r\nimport { ModalBody, Dimmer } from '../../modules';\r\nimport listensToClickOutside from 'react-onclickoutside/decorator';\r\n\r\nclass Modal extends React.Component {\r\n    static propTypes = {\r\n        active: React.PropTypes.bool,\r\n        basic: React.PropTypes.bool,\r\n        blurring: React.PropTypes.bool,\r\n        children: React.PropTypes.node,\r\n        component: React.PropTypes.oneOfType([\r\n            React.PropTypes.func,\r\n            React.PropTypes.string\r\n        ]),\r\n        disabled: React.PropTypes.bool,\r\n        enterAnimation: React.PropTypes.shape({\r\n            duration: React.PropTypes.number,\r\n            easing: React.PropTypes.string,\r\n            from: React.PropTypes.object,\r\n            to: React.PropTypes.object\r\n        }),\r\n        fullscreen: React.PropTypes.bool,\r\n        inverted: React.PropTypes.bool,\r\n        leaveAnimation: React.PropTypes.shape({\r\n            duration: React.PropTypes.number,\r\n            easing: React.PropTypes.string,\r\n            from: React.PropTypes.object,\r\n            to: React.PropTypes.object\r\n        }),\r\n        offset: React.PropTypes.number,\r\n        onComplete: React.PropTypes.func,\r\n        outsideClickClose: React.PropTypes.bool,\r\n        padding: React.PropTypes.number,\r\n        page: React.PropTypes.bool,\r\n        size: React.PropTypes.string\r\n    };\r\n\r\n    static defaultProps = {\r\n        component: 'div',\r\n        enterAnimation: {\r\n            duration: 500,\r\n            easing: 'in-ease',\r\n            from: {\r\n                opacity: 0,\r\n                transform: 'scale(0,0)',\r\n                WebkitTransform: 'scale(0,0)'\r\n            },\r\n            to: {\r\n                opacity: 1,\r\n                transform: 'scale(1,1)',\r\n                WebkitTransform: 'scale(1,1)'\r\n            }\r\n        },\r\n        leaveAnimation: {\r\n            duration: 500,\r\n            easing: 'in-ease',\r\n            from: {\r\n                opacity: 1,\r\n                transform: 'scale(1,1)',\r\n                WebkitTransform: 'scale(1,1)'\r\n            },\r\n            to: {\r\n                opacity: 0,\r\n                transform: 'scale(0,0)',\r\n                WebkitTransform: 'scale(0,0)'\r\n            }\r\n        },\r\n        onComplete: function noop() {},\r\n        outsideClickClose: true,\r\n        page: true\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: false,\r\n            visible: false\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(props) {\r\n        if (props.active != this.props.active && props.active !== this.state.active) {\r\n            if (props.active) {\r\n                this.setState({\r\n                    active: true,\r\n                    visible: true\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    active: false\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(props, state) {\r\n        // this will happen when we modify the state by clicking the Backdrop\r\n        // we don't want to force a re-render just because the parent component\r\n        // got it's active state changed after the animation completed\r\n        if (props.active === this.props.active && state.active === this.state.active) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    onAnimationComplete() {\r\n        if (!this.state.active) {\r\n            this.setState({\r\n                visible: false\r\n            });\r\n        }\r\n\r\n        this.props.onComplete(this.state.active);\r\n    }\r\n\r\n\r\n    renderModalBody() {\r\n        /* eslint-disable no-use-before-define */\r\n        let { blurring, component, disabled, leaveAnimation, inverted, outsideClickClose, page, enterAnimation, ...other } = this.props;\r\n        /* eslint-enable no-use-before-define */\r\n\r\n        let props = Object.assign(other, {\r\n            animate: this.state.active,\r\n            active: this.state.visible,\r\n            start: this.props.enterAnimation,\r\n            end: this.props.leaveAnimation,\r\n            onComplete: this.onAnimationComplete.bind(this)\r\n        });\r\n\r\n        return React.createElement(\r\n            ModalBody,\r\n            props,\r\n            this.props.children\r\n        );\r\n    }\r\n\r\n    render() {\r\n        /* eslint-disable no-use-before-define */\r\n        let { basic, children, component, leaveAnimation, fullscreen, offset, outsideClickClose, padding, size, enterAnimation, ...other } = this.props;\r\n        /* eslint-enable no-use-before-define */\r\n        other.active = this.state.active;\r\n\r\n        return React.createElement(\r\n            Dimmer,\r\n            other,\r\n            this.renderModalBody()\r\n        );\r\n    }\r\n\r\n    handleClickOutside() {\r\n        if (this.props.outsideClickClose) {\r\n            if (this.state.active) {\r\n                this.setState({\r\n                    active: false\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    getModalClasses() {\r\n        let classes = {\r\n            // variations\r\n            basic: this.props.basic,\r\n            fullscreen: this.props.fullscreen\r\n        }\r\n\r\n        classes[this.props.size] = !!this.props.size;\r\n\r\n        return classes;\r\n    }\r\n}\r\n\r\n// Need this trick for react-docgen\r\nModal = listensToClickOutside(Modal);\r\nexport default Modal;\r\n"]}